<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/index.css">
    <script src="/js/jquery-3.5.1.min.js"></script>
    <script src="/js/vue.js"></script>
    <link rel="shortcut icon" href="https://qzl-blog.oss-cn-hangzhou.aliyuncs.com/imgs/logo.ico" />
    <title>VueMusic音乐播放器</title>
</head>
<body>
    <!-- 主区域 -->
    <div id="main">
        <!-- 头部 -->
        <div id="head">
            <div id="logo">VueMusic</div>
            <div id="search">
                <input @keyup.enter="search" v-model="query" type="text" placeholder="回车搜索音乐">
                <div class="search_icon" @click="search"><svg t="1611669075627" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2531" width="16" height="16"><path d="M1001.4 964.6L789.3 752.51q6.68-7.38 13-15a451.52 451.52 0 0 0 43.38-62.6A448.15 448.15 0 0 0 631.13 41a445.4 445.4 0 0 0-347.7 0A451.54 451.54 0 0 0 45.08 279.33a445.31 445.31 0 0 0 0 347.71 451.63 451.63 0 0 0 238.35 238.35 445.4 445.4 0 0 0 347.7 0 446.83 446.83 0 0 0 114.72-70.75L958.6 1007.4a30.26 30.26 0 0 0 42.8-42.8zM607.47 809.69a384.81 384.81 0 0 1-300.38 0 391.12 391.12 0 0 1-206.32-206.32 384.92 384.92 0 0 1 0-300.38A391.15 391.15 0 0 1 307.09 96.68a384.81 384.81 0 0 1 300.38 0A391.08 391.08 0 0 1 813.78 303a384.71 384.71 0 0 1-20.57 341.74A391.66 391.66 0 0 1 755.64 699c-7.88 9.53-16.31 18.79-25 27.54-0.64 0.64-1.3 1.26-2 1.9a30.24 30.24 0 0 0-5.66 5.5 387.47 387.47 0 0 1-115.51 75.75z" p-id="2532" fill="#bfbfbf"></path></svg></div>
            </div>
        </div>
        <!-- 中间部分 -->
        <div id="mid" >
            <!-- 歌曲列表 -->
            <div id="music_list">
                <ul v-if="isstart == 1">
                    <li v-for="music in musicList">
                        <div class="music" @click="musicPlay(music.id)">
                            <div class="play_logo"><svg t="1611636287939" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3825" width="16" height="16"><path d="M878.43 562.82L204.25 952.05c-39.12 22.59-88.02-5.65-88.02-50.82V122.77c0-45.17 48.9-73.4 88.02-50.82l674.17 389.23c39.13 22.59 39.13 79.05 0.01 101.64z" fill="#d81e06" p-id="3826"></path></svg></div>
                            <div class="music_name">{{music.name}} - {{music.ar[0].name}}</div>
                            <div v-if="music.mv > 0" class="mv_icon"><svg t="1611636439678" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4914" width="20" height="20"><path d="M705.197 853.411h-384.39c-13.728 0-24.835-11.119-24.835-24.835 0-13.715 11.107-24.837 24.835-24.837h384.391c13.728 0 24.835 11.122 24.835 24.837-0.001 13.716-11.108 24.835-24.836 24.835z" fill="#213847" p-id="4915"></path><path d="M513.014 832.904c-13.727 0-24.835-11.119-24.835-24.834v-66.43c0-13.714 11.108-24.836 24.835-24.836 13.728 0 24.836 11.122 24.836 24.836v66.431c0 13.714-11.109 24.833-24.836 24.833z" fill="#213847" p-id="4916"></path><path d="M382.191 228.998h-63.737c-54.861 0-99.341 44.481-99.341 99.342v314.601c0 54.861 44.48 99.343 99.341 99.343H774.61c54.859 0 99.341-44.481 99.341-99.343V328.34c0-54.861-44.481-99.342-99.341-99.342H612.55l-228.272-0.193" fill="#FC607B" p-id="4917"></path><path d="M157.024 485.222c-13.727 0-24.835-11.12-24.835-24.835v-65.193c0-13.715 11.108-24.836 24.835-24.836 13.728 0 24.835 11.121 24.835 24.836v65.193c0 13.715-11.108 24.835-24.835 24.835z" fill="#213847" p-id="4918"></path><path d="M769.638 201.702l-447.424-0.231h-0.024c-1.103 0-2.186 0.08-3.25 0.219h-62.573c-68.467 0-124.177 55.71-124.177 124.177 0 13.715 11.108 24.835 24.835 24.835 13.728 0 24.835-11.12 24.835-24.835 0-41.086 33.421-74.506 74.506-74.506h63.738c1.102 0 2.185-0.079 3.249-0.218l446.285 0.23c41.085 0 74.507 33.421 74.507 74.506v314.552c0 41.085-33.422 74.507-74.507 74.507H256.366c-41.085 0-74.506-33.422-74.506-74.507V537.985c0-13.715-11.108-24.836-24.835-24.836s-24.835 11.121-24.835 24.836V640.43c0 68.468 55.71 124.178 124.177 124.178h513.272c68.468 0 124.177-55.71 124.177-124.178V325.878c-0.002-68.467-55.711-124.176-124.178-124.176z" fill="#213847" p-id="4919"></path><path d="M438.75 598.691a24.75 24.75 0 0 1-11.981-3.081 24.835 24.835 0 0 1-12.854-21.755V386.099a24.839 24.839 0 0 1 12.854-21.755c7.907-4.366 17.56-4.087 25.248 0.764l148.526 93.885a24.832 24.832 0 0 1 11.569 20.991 24.816 24.816 0 0 1-11.569 20.991l-148.526 93.873a24.835 24.835 0 0 1-13.267 3.843z m24.835-167.517v97.607l77.199-48.798-77.199-48.809z" fill="#213847" p-id="4920"></path></svg></div>
                        </div>
                    </li>
                </ul>
                <ul v-if="isstart == 0">
                    <li v-for="music in musicList">
                        <div class="music" @click="musicPlay(music.id)">
                            <div class="play_logo"><svg t="1611636287939" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3825" width="16" height="16"><path d="M878.43 562.82L204.25 952.05c-39.12 22.59-88.02-5.65-88.02-50.82V122.77c0-45.17 48.9-73.4 88.02-50.82l674.17 389.23c39.13 22.59 39.13 79.05 0.01 101.64z" fill="#d81e06" p-id="3826"></path></svg></div>
                            <div class="music_name">{{music.name}} - {{music.song.artists[0].name}}</div>
                            <div v-if="music.mv > 0" class="mv_icon"><svg t="1611636439678" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4914" width="20" height="20"><path d="M705.197 853.411h-384.39c-13.728 0-24.835-11.119-24.835-24.835 0-13.715 11.107-24.837 24.835-24.837h384.391c13.728 0 24.835 11.122 24.835 24.837-0.001 13.716-11.108 24.835-24.836 24.835z" fill="#213847" p-id="4915"></path><path d="M513.014 832.904c-13.727 0-24.835-11.119-24.835-24.834v-66.43c0-13.714 11.108-24.836 24.835-24.836 13.728 0 24.836 11.122 24.836 24.836v66.431c0 13.714-11.109 24.833-24.836 24.833z" fill="#213847" p-id="4916"></path><path d="M382.191 228.998h-63.737c-54.861 0-99.341 44.481-99.341 99.342v314.601c0 54.861 44.48 99.343 99.341 99.343H774.61c54.859 0 99.341-44.481 99.341-99.343V328.34c0-54.861-44.481-99.342-99.341-99.342H612.55l-228.272-0.193" fill="#FC607B" p-id="4917"></path><path d="M157.024 485.222c-13.727 0-24.835-11.12-24.835-24.835v-65.193c0-13.715 11.108-24.836 24.835-24.836 13.728 0 24.835 11.121 24.835 24.836v65.193c0 13.715-11.108 24.835-24.835 24.835z" fill="#213847" p-id="4918"></path><path d="M769.638 201.702l-447.424-0.231h-0.024c-1.103 0-2.186 0.08-3.25 0.219h-62.573c-68.467 0-124.177 55.71-124.177 124.177 0 13.715 11.108 24.835 24.835 24.835 13.728 0 24.835-11.12 24.835-24.835 0-41.086 33.421-74.506 74.506-74.506h63.738c1.102 0 2.185-0.079 3.249-0.218l446.285 0.23c41.085 0 74.507 33.421 74.507 74.506v314.552c0 41.085-33.422 74.507-74.507 74.507H256.366c-41.085 0-74.506-33.422-74.506-74.507V537.985c0-13.715-11.108-24.836-24.835-24.836s-24.835 11.121-24.835 24.836V640.43c0 68.468 55.71 124.178 124.177 124.178h513.272c68.468 0 124.177-55.71 124.177-124.178V325.878c-0.002-68.467-55.711-124.176-124.178-124.176z" fill="#213847" p-id="4919"></path><path d="M438.75 598.691a24.75 24.75 0 0 1-11.981-3.081 24.835 24.835 0 0 1-12.854-21.755V386.099a24.839 24.839 0 0 1 12.854-21.755c7.907-4.366 17.56-4.087 25.248 0.764l148.526 93.885a24.832 24.832 0 0 1 11.569 20.991 24.816 24.816 0 0 1-11.569 20.991l-148.526 93.873a24.835 24.835 0 0 1-13.267 3.843z m24.835-167.517v97.607l77.199-48.798-77.199-48.809z" fill="#213847" p-id="4920"></path></svg></div>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- :style="{backgroundImage:'url('+musicCover+')'}" -->
            <div id="music_cover" >
                <div class="bg bg-blur"></div>
                <div id="cover_img">
                    <div id="img">
                        <img v-bind:src="musicCover" alt="">
                    </div>
                    <div id="music_detail">
                        <span>{{musicCoverDetail}}</span>
                    </div>
                </div>
                <!-- //歌词区域 -->
                <div id="music_text">
                    <div id="now_lyric"></div>
                </div>
            </div>
            <!-- 热门评论 -->
            <div id="music_comments">
                <div id="comment_head">热门评论</div>
                <ul>
                    <li v-for="comment in commentList">
                        <div class="comment">
                            <div class="head_img">
                                <img :src="comment.user.avatarUrl" alt="">
                            </div>
                            <div class="comment_content">
                                <!-- 评论名字 -->
                                <div class="author_name">{{comment.user.nickname}}</div>
                                <!-- 评论内容 -->
                                <div class="comment_detail">
                                    {{comment.content}}
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <!-- 下面部分 -->
        <div id="foot">
            <audio id="audio" ontimeupdate="playFunction(this)" v-bind:src="musicPlayUrl" autoplay="autoplay" controls="controls" volume=0.5></audio>
        </div>
    </div>
    <div class="end">
        @Author By <a href="http://www.codeaper.cn" target="_blank">邱子林</a>
    </div>
</body>
<script src="../js/index.js"></script>
<script>
function playFunction(play){
          
          for(var i = 0;i < medisArray.length;i++){
              if(parseFloat(medisArray[i].t) <= play.currentTime && play.currentTime <= medisArray[i + 1].t && medisArray[i].c != ""){               
                $("#now_lyric").html(medisArray[i].c);
                break;
              }
          }
        }
</script>
</html>